<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WEBAPP TERRACLIMA</title>

  <!-- Leaflet (CSS + JS) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Estilos Calendario -->
  <link rel="stylesheet" href="./Luis/public/styles/Calendar.css">

  <style>
    /* ====== Tabla y mapa ====== */
    table{ width:90%; border-collapse:collapse; margin:20px auto; font-family:Arial,sans-serif; table-layout:fixed; }
    th, td{ border:1px solid #333; padding:1px; text-align:center; }
    caption{ font-size:1.3em; font-weight:bold; margin-bottom:10px; }
    td.map-cell{ padding:0; }
    #map{ width:100%; height:220px; display:block; }

    /* Fondo */
    body{
      background-image:url('./Luis/img/fondo1.jpg');
      background-size:cover; background-repeat:no-repeat; background-position:center center;
    }
    .redondo{ border-radius:50%; }

    /* ====== Panel predictor (sin mapa) ====== */
    .predictor{
      max-width: 640px;
      margin: 10px auto;
      text-align: left;
      background: #ffffff;
      color: #111;
      border-radius: 14px;
      box-shadow: 0 6px 18px rgba(0,0,0,.18);
      padding: 14px 16px;
    }
    .predictor h3{ margin:0 0 6px 0; font-size:18px; }
    .predictor .coord{ font-size:13px; color:#666; margin-bottom:8px; }
    .predictor .grid{ display:grid; grid-template-columns: 1fr auto; row-gap:6px; column-gap:8px; }
    .predictor .k{ color:#444; }
    .predictor .v{ font-weight:600; }
    .predictor .badge{ display:inline-block; font-size:11px; padding:2px 6px; border-radius:999px; background:#eef; color:#223; margin-left:6px; }
    .predictor .status{ margin-top:8px; font-size:12px; color:#444; }
    .predictor .loading{ animation:pulse 1s infinite; }
    @keyframes pulse { 0%{opacity:.6} 50%{opacity:1} 100%{opacity:.6} }
  </style>
</head>
<body>

  <table>
    <colgroup>
      <col style="width: 15%;">
      <col style="width: 70%;">  <!-- mapa -->
      <col style="width: 15%;">
    </colgroup>

    <thead>
      <tr>
        <td>
          <div>
            <img src="./Luis/img/logo1.jpg" class="redondo" alt="Logo1" height="120" width="120">
          </div>
        </td>
        <td><h1 style="text-align:center;">WEBAPP TERRACLIMA</h1></td>
        <td><img src="./Luis/img/logo3.jpeg" class="redondo" alt="Logo2" height="120" width="120"></td>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td></td>
        <!-- MAPA (fila 1, columna 2) -->
        <td class="map-cell">
          <div id="map" aria-label="Mapa (Leaflet)"></div>
        </td>
        <td></td>
      </tr>

      <tr style="height: 10px;"><td></td><td></td><td></td></tr>

      <tr>
        <td></td>
        <td>
          <!-- Calendario existente -->
          <div class="calendar-container">
            <header class="calendar-header">
              <p class="calendar-current-date"></p>
              <div class="calendar-navigation">
                <span id="calendar-prev" class="material-symbols-rounded"></span>
                <span id="calendar-next" class="material-symbols-rounded"></span>
              </div>
            </header>
            <div class="calendar-body">
              <ul class="calendar-weekdays">
                <li>Sun</li><li>Mon</li><li>Tue</li><li>Wed</li><li>Thu</li><li>Fri</li><li>Sat</li>
              </ul>
              <ul class="calendar-dates"></ul>
            </div>
          </div>
        </td>
        <td></td>
      </tr>

      <!-- ⬇️ AQUÍ VA EL PREDICTOR (sin mapa) -->
      <tr>
        <td></td>
        <td>
          <div class="predictor" id="predictor">
            <h3>Clima (NASA POWER) <span class="badge" id="p-date">—</span></h3>
            <div class="coord" id="p-coord">Selecciona una ubicación en el mapa de arriba.</div>
            <div class="grid">
              <div class="k">T2M (media)</div>     <div class="v" id="p-t2m">—</div>
              <div class="k">T2M_MAX</div>         <div class="v" id="p-t2mmax">—</div>
              <div class="k">T2M_MIN</div>         <div class="v" id="p-t2mmin">—</div>
              <div class="k">Precipitación</div>   <div class="v" id="p-prec">—</div>
              <div class="k">Viento (10 m)</div>   <div class="v" id="p-wind">—</div>
            </div>
            <div class="status" id="p-status">Listo.</div>
          </div>
        </td>
        <td></td>
      </tr>

      <tr>
        <td></td>
        <td></td>
        <td></td>
      
      </tr>
    </tbody>
  </table>

  <script src="./Luis/js/script-calendar.js"></script>
  <script src="./Luis/js/script-mapa.js"></script>


</body>
</html>
